# Хоккейный Парсер Бота

1. Этот проект представляет собой **бота**, который автоматически парсит результаты хоккейных матчей с сайта **Flashscore** и **Line4Bet**, анализирует коэффициенты и результаты матчей, а затем отправляет уведомления в случае отрицательных результатов (не заходов). Бот использует **Selenium** для парсинга и **Telegram API** для отправки уведомлений. 
2. Этот проект создан по заказу

## Функциональные возможности

1. **Парсинг матчей**:
   - Получает данные о хоккейных матчах с сайта **Flashscore**.
   - Извлекает команды, счёт и другие данные из таблиц матчей.

2. **Парсинг коэффициентов**:
   - Заходит на сайт **Line4Bet** для получения коэффициентов на матчи.
   - Фильтрует ставки по коэффициентам (например, **П1**, **П2**, **X**).

3. **Анализ результатов**:
   - После окончания матчей, бот сверяет результат с прогнозами на основе среднего коэффициента.
   - Если ставка не зашла (например, результат не в пользу команды), бот фиксирует это как **не заход**.
   - Если матч завершился в ничью — это тоже считается **не заходом**.

4. **Уведомления**:
   - Бот отправляет уведомления о неудачных ставках через **Telegram**.
   - Если пять ставок подряд не зашли, бот уведомляет о количестве неудачных ставок.

5. **Игнорирование перенесённых матчей**:
   - Бот игнорирует перенесённые матчи и пропускает их при дальнейшей обработке.

## Структура проекта

```bash
├── database.py        # Работа с базой данных для хранения матчей
├── helpers.py         # Вспомогательные функции для обработки данных
├── line4bet_parser.py # Парсинг данных с сайта Line4Bet
├── notifications.py   # Отправка уведомлений в Telegram
├── scheduler.py       # Планировщик задач для запуска бота
├── main.py            # Основной файл для запуска бота
├── requirements.txt   # Список зависимостей
├── README.md          # Документация по проекту
└── matches.db         # SQLite база данных для хранения информации о матчах
```

## Клонируйте репозиторий:

```bash
git clone https://github.com/yourusername/hockey-bot.git
cd hockey-bot
```
## Создайте и активируйте виртуальное окружение:

```bash
python -m venv venv
source venv/bin/activate   # для Linux/Mac
venv\Scripts\activate      # для Windows
```
## Установите зависимости:

```bash
pip install -r requirements.txt
```
## Создайте Telegram-бота:

- Перейдите в Telegram и найдите BotFather.
- Создайте нового бота и получите API Token.
- Вставьте полученный API Token в код, заменив "your_telegram_bot_token".
- Настройте chat_id для получения уведомлений:

- Получите свой chat_id, написав своему боту в Telegram и воспользовавшись API для получения chat_id.

## Запуск
Чтобы запустить бота, используйте следующий команду:

```bash
python main.py
```

## Пример использования
После запуска бота, он будет автоматически:

- Собирать информацию о хоккейных матчах с Flashscore.
- Получать коэффициенты ставок с Line4Bet.
- Сравнивать результаты матчей с коэффициентами и отправлять уведомления через Telegram о неудачных ставках.
- Пример уведомления:

```plaintext
Не заход для Торонто - Вегас. Средний коэффициент: 2.45
```
## Зависимости
#### Проект использует следующие библиотеки:

- Selenium — для парсинга данных с сайтов.
- requests — для HTTP-запросов.
- python-telegram-bot — для отправки уведомлений в Telegram.
- schedule — для планирования задач.
- sqlite3 — для хранения данных о матчах в базе данных.
- Зависимости перечислены в файле requirements.txt. Вы можете установить их с помощью команды:

```bash
pip install -r requirements.txt
```
## Лицензия
Этот проект распространяется под лицензией `MIT`.

